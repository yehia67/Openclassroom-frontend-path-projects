{"ast":null,"code":"var _jsxFileName = \"/home/yehia/Documents/openclassroom projects/restaurant/src/components/RestaurantList.js\";\nimport React from 'react';\nimport Modal from 'react-awesome-modal';\n\nclass RestaurantList extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.addReview = index => {\n      this.openModal();\n      document.getElementById(\"index\").innerHTML = index;\n    };\n\n    this.makeReview = index => {\n      const review = document.getElementById(\"new_review\").value;\n      document.getElementById(this.props.restaurants[index].id).innerHTML = this.props.restaurants[index].name + \" \" + \"(rate = \" + parseFloat(parseFloat(review) / this.props.restaurants[index].user_ratings_total + this.props.restaurants[index].rating) + \", no. of raters = \" + parseInt(this.props.restaurants[index].user_ratings_total + 1) + \")\";\n      this.props.restaurants[index].rating = parseFloat(parseFloat(review) / this.props.restaurants[index].user_ratings_total + this.props.restaurants[index].rating);\n      this.props.restaurants[index].user_ratings_total = this.props.restaurants[index].user_ratings_total + 1;\n    };\n\n    this.state = {\n      visible: false\n    };\n  }\n\n  openModal() {\n    this.setState({\n      visible: true\n    });\n  }\n\n  closeModal() {\n    this.setState({\n      visible: false\n    });\n  }\n\n  render() {\n    const items = this.props.restaurants.map((obj, index) => React.createElement(\"li\", {\n      id: obj.id,\n      onClick: () => this.addReview(index),\n      key: index,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 39\n      },\n      __self: this\n    }, obj.name + \" \" + \"(rate = \" + obj.rating + \", no. of raters = \" + obj.user_ratings_total + \")\"), this);\n    return React.createElement(\"div\", {\n      className: \"map-list pt-2 text-left\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 44\n      },\n      __self: this\n    }, React.createElement(\"h6\", {\n      className: \"ml-2\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 45\n      },\n      __self: this\n    }, \"Available Restaurant:\"), React.createElement(\"ul\", {\n      id: \"restaurantsList\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 46\n      },\n      __self: this\n    }, items), React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      visible: this.state.visible,\n      width: \"250\",\n      height: \"150\",\n      effect: \"fadeInUp\",\n      onClickAway: () => this.closeModal(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 52\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"p-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 53\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        display: \"none\"\n      },\n      id: \"index\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }, \"Enter your review:-\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 55\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"range\",\n      id: \"new_review\",\n      min: \"1\",\n      max: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 56\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 57\n      },\n      __self: this\n    }), React.createElement(\"a\", {\n      className: \"float-right\",\n      onClick: () => {\n        this.closeModal();\n        console.log(document.getElementById(\"index\").innerHTML);\n        this.makeReview(document.getElementById(\"index\").innerHTML);\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 58\n      },\n      __self: this\n    }, \"Submit\")))));\n  }\n\n}\n\nexport default RestaurantList;","map":{"version":3,"sources":["/home/yehia/Documents/openclassroom projects/restaurant/src/components/RestaurantList.js"],"names":["React","Modal","RestaurantList","Component","constructor","props","addReview","index","openModal","document","getElementById","innerHTML","makeReview","review","value","restaurants","id","name","parseFloat","user_ratings_total","rating","parseInt","state","visible","setState","closeModal","render","items","map","obj","display","console","log"],"mappings":"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","sourcesContent":["import React from 'react';\nimport Modal from 'react-awesome-modal';\n\n\nclass RestaurantList extends React.Component {\n  constructor(props) {\n       super(props);\n       this.state = {\n            visible : false\n        }\n\n   }\n   openModal() {\n           this.setState({\n               visible : true\n           });\n       }\n\n       closeModal() {\n           this.setState({\n               visible : false\n           });\n       }\n\n   addReview = (index)=>{\n     this.openModal();\n     document.getElementById(\"index\").innerHTML = index;\n\n   };\n   makeReview = (index)=>{\n     const review = document.getElementById(\"new_review\").value;\n     document.getElementById(this.props.restaurants[index].id).innerHTML =  this.props.restaurants[index].name +\" \"+ \"(rate = \" + parseFloat((parseFloat(review)/this.props.restaurants[index].user_ratings_total) + this.props.restaurants[index].rating)+\", no. of raters = \" +parseInt(this.props.restaurants[index].user_ratings_total+1) +\")\"\n     this.props.restaurants[index].rating =  parseFloat((parseFloat(review)/this.props.restaurants[index].user_ratings_total) + this.props.restaurants[index].rating)\n     this.props.restaurants[index].user_ratings_total = this.props.restaurants[index].user_ratings_total + 1\n   }\n\n  render() {\n\n      const items =  this.props.restaurants.map((obj,index) => <li id={obj.id} onClick={() => this.addReview(index)}  key={index} >{obj.name +\" \"+ \"(rate = \" + obj.rating+\", no. of raters = \" +obj.user_ratings_total +\")\"}</li>,this);\n\n\n      return (\n\n              <div className=\"map-list pt-2 text-left\">\n                <h6 className=\"ml-2\">Available Restaurant:</h6>\n                <ul id=\"restaurantsList\">\n                    {items}\n                </ul>\n\n              {/* add review modal  */}\n              <section>\n                     <Modal visible={this.state.visible} width=\"250\" height=\"150\" effect=\"fadeInUp\" onClickAway={() => this.closeModal()}>\n                            <div className=\"p-5\">\n                                <span style={{display:\"none\"}} id=\"index\"></span>\n                                <label>Enter your review:-</label><br />\n                                <input type=\"range\" id=\"new_review\" min=\"1\" max=\"5\"/>\n                                <br />\n                                <a className=\"float-right\" onClick={() => {\n                                    this.closeModal();\n                                    console.log(document.getElementById(\"index\").innerHTML);\n                                    this.makeReview(document.getElementById(\"index\").innerHTML);\n                                  }}>Submit</a>\n                            </div>\n                      </Modal>\n                </section>\n              </div>\n\n\n      );\n  }\n}\n\nexport default RestaurantList;\n"]},"metadata":{},"sourceType":"module"}