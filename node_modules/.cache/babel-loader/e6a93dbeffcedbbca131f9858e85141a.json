{"ast":null,"code":"var _jsxFileName = \"/home/yehia/Documents/openclassroom projects/restaurant/src/components/RestaurantBox.js\";\nimport React from 'react';\nimport MapDiv from './MapDiv.js';\nimport '../App.css';\nimport RestaurantList from './RestaurantList.js';\n\nclass RestaurantBox extends React.Component {\n  constructor(props) {\n    super(props);\n\n    this.filterReviews = items => {\n      const firstNo = parseFloat(document.getElementById(\"first-no\").value);\n      const secondNo = parseFloat(document.getElementById(\"second-no\").value);\n      let max, min;\n\n      if (firstNo > secondNo) {\n        max = firstNo;\n        min = secondNo;\n      } else if (firstNo < secondNo) {\n        max = secondNo;\n        min = firstNo;\n      }\n\n      for (let index = 0; index < items.length; index++) {\n        if (items[index].props.children === \"\") {\n          continue;\n        }\n\n        if (items[index].props.children.props.children[1].props.children[1] >= min && items[index].props.children.props.children[1].props.children[1] <= max) {\n          document.getElementById(items[index].props.id).style.display = \"block\";\n          let markerElement = document.getElementById(\"gmimap\" + index).parentElement;\n          console.log(markerElement);\n          markerElement.classList.remove(\"marker-hide\");\n        } else {\n          document.getElementById(items[index].props.id).style.display = \"none\";\n          let markerElement = document.getElementById(\"gmimap\" + index).parentElement;\n          console.log(markerElement);\n          markerElement.classList.add(\"marker-hide\");\n        }\n      }\n    };\n\n    this.state = {\n      Latitude: 1,\n      Longitude: 1,\n      restaurants: []\n    };\n  }\n\n  componentDidMount() {\n    const success = pos => {\n      var crd = pos.coords;\n      this.setState({\n        Latitude: crd.latitude,\n        Longitude: crd.longitude\n      }, () => {\n        fetch('https://cors-anywhere.herokuapp.com/' + 'https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=' + this.state.Latitude + ',' + this.state.Longitude + '&radius=150000&type=restaurant&key=AIzaSyAUXi44xrkwClTtmRDXvbR9egoGX86XTpE').then(response => response.json()).then(data => {\n          console.log(data);\n          this.setState({\n            restaurants: data.results\n          });\n        });\n      });\n    };\n\n    const error = err => {\n      console.warn(\"ERROR(\".concat(err.code, \"): \").concat(err.message));\n    };\n\n    navigator.geolocation.getCurrentPosition(success, error);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"map-box row align-items-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 79\n      },\n      __self: this\n    }, this.state.restaurants !== [] ? React.createElement(MapDiv, {\n      restaurants: this.state.restaurants,\n      Latitude: this.state.Latitude,\n      Longitude: this.state.Longitude,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 82\n      },\n      __self: this\n    }) : null, this.state.Latitude !== 1 ? React.createElement(RestaurantList, {\n      restaurants: this.state.restaurants,\n      filterReviews: this.filterReviews,\n      Latitude: this.state.Latitude,\n      Longitude: this.state.Longitude,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }) : null);\n  }\n\n}\n\nexport default RestaurantBox;","map":{"version":3,"sources":["/home/yehia/Documents/openclassroom projects/restaurant/src/components/RestaurantBox.js"],"names":["React","MapDiv","RestaurantList","RestaurantBox","Component","constructor","props","filterReviews","items","firstNo","parseFloat","document","getElementById","value","secondNo","max","min","index","length","children","id","style","display","markerElement","parentElement","console","log","classList","remove","add","state","Latitude","Longitude","restaurants","componentDidMount","success","pos","crd","coords","setState","latitude","longitude","fetch","then","response","json","data","results","error","err","warn","code","message","navigator","geolocation","getCurrentPosition","render"],"mappings":"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","sourcesContent":["import React from 'react';\nimport MapDiv from './MapDiv.js';\nimport '../App.css';\nimport RestaurantList from './RestaurantList.js';\n\nclass RestaurantBox extends React.Component {\n  constructor(props) {\n      super(props);\n      this.state = {\n          Latitude:1,\n          Longitude:1,\n          restaurants: [],\n      }\n  }\n\n  filterReviews = (items) => {\n      const firstNo = parseFloat(document.getElementById(\"first-no\").value);\n      const secondNo = parseFloat(document.getElementById(\"second-no\").value);\n      let max,min;\n      if(firstNo > secondNo){\n        max = firstNo;\n        min = secondNo;\n      }\n      else if(firstNo < secondNo){\n        max = secondNo;\n        min = firstNo;\n      }\n      for(let index = 0; index < items.length; index++){\n        if(items[index].props.children === \"\"){\n          continue;\n        }\n        if(items[index].props.children.props.children[1].props.children[1] >= min && items[index].props.children.props.children[1].props.children[1] <= max){\n         document.getElementById(items[index].props.id).style.display = \"block\";\n         let markerElement = document.getElementById(\"gmimap\"+index).parentElement;\n         console.log(markerElement);\n          markerElement.classList.remove(\"marker-hide\");\n        }\n        else{\n          document.getElementById(items[index].props.id).style.display = \"none\";\n           let markerElement = document.getElementById(\"gmimap\"+index).parentElement;\n           console.log(markerElement);\n          markerElement.classList.add(\"marker-hide\");\n        }\n      }\n   };\n  componentDidMount() {\n    const success = (pos) => {\n      var crd = pos.coords;\n      this.setState({\n        Latitude: crd.latitude,\n        Longitude: crd.longitude\n      },()=> {\n        fetch('https://cors-anywhere.herokuapp.com/'+'https://maps.googleapis.com/maps/api/place/nearbysearch/json?location='+this.state.Latitude +','+ this.state.Longitude + '&radius=150000&type=restaurant&key=AIzaSyAUXi44xrkwClTtmRDXvbR9egoGX86XTpE')\n       .then(response=>response.json()).then(data =>{\n         console.log(data);\n         this.setState({\n           restaurants: data.results\n         });\n\n       })\n\n      })\n\n    };\n\n    const error = (err) => {\n      console.warn(`ERROR(${err.code}): ${err.message}`);\n    };\n\n    navigator.geolocation.getCurrentPosition(success, error);\n\n\n}\n\n\n  render() {\n    return (\n\n      <div className=\"map-box row align-items-center\" >\n\n      {this.state.restaurants !== []?\n        <MapDiv  restaurants={this.state.restaurants}   Latitude={this.state.Latitude} Longitude={this.state.Longitude} /> : null}\n\n\n       {this.state.Latitude !== 1?  <RestaurantList restaurants={this.state.restaurants} filterReviews = {this.filterReviews}  Latitude={this.state.Latitude} Longitude={this.state.Longitude} />: null}\n\n\n\n    </div>\n\n    );\n  }\n}\n\nexport default RestaurantBox;\n"]},"metadata":{},"sourceType":"module"}