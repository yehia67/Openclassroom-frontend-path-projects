{"ast":null,"code":"var _jsxFileName = \"/home/yehia/Documents/openclassroom projects/restaurant/src/components/RestaurantBox.js\";\nimport React from 'react';\nimport MapDiv from './MapDiv.js';\nimport '../App.css';\nimport RestaurantList from './RestaurantList.js';\n\nclass RestaurantBox extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      Latitude: 1,\n      Longitude: 1,\n      restaurants: []\n    };\n  }\n\n  componentDidMount() {\n    const success = pos => {\n      var crd = pos.coords;\n      this.setState({\n        Latitude: crd.latitude,\n        Longitude: crd.longitude\n      }, () => {\n        fetch('https://cors-anywhere.herokuapp.com/' + 'https://maps.googleapis.com/maps/api/place/nearbysearch/json?location=' + this.state.Latitude + ',' + this.state.Longitude + '&radius=150000&type=restaurant&key=AIzaSyAUXi44xrkwClTtmRDXvbR9egoGX86XTpE').then(response => response.json()).then(data => {\n          console.log(data);\n          this.setState({\n            restaurants: data.results\n          });\n        });\n      });\n    };\n\n    const error = err => {\n      console.warn(\"ERROR(\".concat(err.code, \"): \").concat(err.message));\n    };\n\n    navigator.geolocation.getCurrentPosition(success, error);\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"map-box row align-items-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 48\n      },\n      __self: this\n    }, this.state.restaurants !== [] ? React.createElement(MapDiv, {\n      restaurants: this.state.restaurants,\n      Latitude: this.state.Latitude,\n      Longitude: this.state.Longitude,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 51\n      },\n      __self: this\n    }) : null, this.state.Latitude !== 1 ? React.createElement(RestaurantList, {\n      restaurants: this.state.restaurants,\n      Latitude: this.state.Latitude,\n      Longitude: this.state.Longitude,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 54\n      },\n      __self: this\n    }) : null);\n  }\n\n}\n\nexport default RestaurantBox;","map":{"version":3,"sources":["/home/yehia/Documents/openclassroom projects/restaurant/src/components/RestaurantBox.js"],"names":["React","MapDiv","RestaurantList","RestaurantBox","Component","constructor","props","state","Latitude","Longitude","restaurants","componentDidMount","success","pos","crd","coords","setState","latitude","longitude","fetch","then","response","json","data","console","log","results","error","err","warn","code","message","navigator","geolocation","getCurrentPosition","render"],"mappings":";AAAA,OAAOA,KAAP,MAAkB,OAAlB;AACA,OAAOC,MAAP,MAAmB,aAAnB;AACA,OAAO,YAAP;AACA,OAAOC,cAAP,MAA2B,qBAA3B;;AAEA,MAAMC,aAAN,SAA4BH,KAAK,CAACI,SAAlC,CAA4C;AAC1CC,EAAAA,WAAW,CAACC,KAAD,EAAQ;AACf,UAAMA,KAAN;AACA,SAAKC,KAAL,GAAa;AACTC,MAAAA,QAAQ,EAAC,CADA;AAETC,MAAAA,SAAS,EAAC,CAFD;AAGTC,MAAAA,WAAW,EAAE;AAHJ,KAAb;AAKH;;AACDC,EAAAA,iBAAiB,GAAG;AAClB,UAAMC,OAAO,GAAIC,GAAD,IAAS;AACvB,UAAIC,GAAG,GAAGD,GAAG,CAACE,MAAd;AACA,WAAKC,QAAL,CAAc;AACZR,QAAAA,QAAQ,EAAEM,GAAG,CAACG,QADF;AAEZR,QAAAA,SAAS,EAAEK,GAAG,CAACI;AAFH,OAAd,EAGE,MAAK;AACLC,QAAAA,KAAK,CAAC,yCAAuC,wEAAvC,GAAgH,KAAKZ,KAAL,CAAWC,QAA3H,GAAqI,GAArI,GAA0I,KAAKD,KAAL,CAAWE,SAArJ,GAAiK,4EAAlK,CAAL,CACAW,IADA,CACKC,QAAQ,IAAEA,QAAQ,CAACC,IAAT,EADf,EACgCF,IADhC,CACqCG,IAAI,IAAG;AAC3CC,UAAAA,OAAO,CAACC,GAAR,CAAYF,IAAZ;AACA,eAAKP,QAAL,CAAc;AACZN,YAAAA,WAAW,EAAEa,IAAI,CAACG;AADN,WAAd;AAID,SAPA;AASD,OAbD;AAeD,KAjBD;;AAmBA,UAAMC,KAAK,GAAIC,GAAD,IAAS;AACrBJ,MAAAA,OAAO,CAACK,IAAR,iBAAsBD,GAAG,CAACE,IAA1B,gBAAoCF,GAAG,CAACG,OAAxC;AACD,KAFD;;AAIAC,IAAAA,SAAS,CAACC,WAAV,CAAsBC,kBAAtB,CAAyCtB,OAAzC,EAAkDe,KAAlD;AAGH;;AAGCQ,EAAAA,MAAM,GAAG;AACP,WAEE;AAAK,MAAA,SAAS,EAAC,gCAAf;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,OAEC,KAAK5B,KAAL,CAAWG,WAAX,KAA2B,EAA3B,GACC,oBAAC,MAAD;AAAS,MAAA,WAAW,EAAE,KAAKH,KAAL,CAAWG,WAAjC;AAAgD,MAAA,QAAQ,EAAE,KAAKH,KAAL,CAAWC,QAArE;AAA+E,MAAA,SAAS,EAAE,KAAKD,KAAL,CAAWE,SAArG;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MADD,GACsH,IAHvH,EAME,KAAKF,KAAL,CAAWC,QAAX,KAAwB,CAAxB,GAA4B,oBAAC,cAAD;AAAgB,MAAA,WAAW,EAAE,KAAKD,KAAL,CAAWG,WAAxC;AAAuD,MAAA,QAAQ,EAAE,KAAKH,KAAL,CAAWC,QAA5E;AAAsF,MAAA,SAAS,EAAE,KAAKD,KAAL,CAAWE,SAA5G;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,MAA5B,GAAuJ,IANzJ,CAFF;AAeD;;AAvDyC;;AA0D5C,eAAeN,aAAf","sourcesContent":["import React from 'react';\nimport MapDiv from './MapDiv.js';\nimport '../App.css';\nimport RestaurantList from './RestaurantList.js';\n\nclass RestaurantBox extends React.Component {\n  constructor(props) {\n      super(props);\n      this.state = {\n          Latitude:1,\n          Longitude:1,\n          restaurants: [],\n      }\n  }\n  componentDidMount() {\n    const success = (pos) => {\n      var crd = pos.coords;\n      this.setState({\n        Latitude: crd.latitude,\n        Longitude: crd.longitude\n      },()=> {\n        fetch('https://cors-anywhere.herokuapp.com/'+'https://maps.googleapis.com/maps/api/place/nearbysearch/json?location='+this.state.Latitude +','+ this.state.Longitude + '&radius=150000&type=restaurant&key=AIzaSyAUXi44xrkwClTtmRDXvbR9egoGX86XTpE')\n       .then(response=>response.json()).then(data =>{\n         console.log(data);\n         this.setState({\n           restaurants: data.results\n         });\n\n       })\n\n      })\n\n    };\n\n    const error = (err) => {\n      console.warn(`ERROR(${err.code}): ${err.message}`);\n    };\n\n    navigator.geolocation.getCurrentPosition(success, error);\n\n\n}\n\n\n  render() {\n    return (\n\n      <div className=\"map-box row align-items-center\" >\n\n      {this.state.restaurants !== []?\n        <MapDiv  restaurants={this.state.restaurants}   Latitude={this.state.Latitude} Longitude={this.state.Longitude} /> : null}\n\n\n       {this.state.Latitude !== 1?  <RestaurantList restaurants={this.state.restaurants}   Latitude={this.state.Latitude} Longitude={this.state.Longitude} />: null}\n\n\n\n    </div>\n\n    );\n  }\n}\n\nexport default RestaurantBox;\n"]},"metadata":{},"sourceType":"module"}