{"ast":null,"code":"import _objectWithoutProperties from \"/home/yehia/Documents/openclassroom projects/restaurant/node_modules/@babel/runtime/helpers/esm/objectWithoutProperties\";\nvar _jsxFileName = \"/home/yehia/Documents/openclassroom projects/restaurant/src/components/MapDiv.js\";\nimport React from 'react';\nimport { Map, GoogleApiWrapper, Marker, InfoWindow } from 'google-maps-react';\nimport Modal from 'react-awesome-modal';\nconst newRestaurants = [];\nconst google = window.google;\nconst mapStyles = {\n  height: '500px'\n};\nvar iconBase = 'http://maps.google.com/mapfiles/marker_green.png';\n\nconst MarkersList = props => {\n  const locations = props.locations,\n        markerProps = _objectWithoutProperties(props, [\"locations\"]);\n\n  return React.createElement(\"span\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 18\n    },\n    __self: this\n  }, locations.map((location, i) => {\n    return React.createElement(Marker, Object.assign({\n      key: i\n    }, markerProps, {\n      position: {\n        lat: location.lat(),\n        lng: location.lng()\n      },\n      onClick: () => {\n        document.getElementById(\"new_restaurant_Name\").innerHTML = newRestaurants[i].name;\n        document.getElementById(\"new_restaurant_Rate\").innerHTML = \"Rate \" + newRestaurants[i].rating;\n        document.getElementById(\"new_restaurant_No_Rater\").innerHTML = \"no. of raters \" + newRestaurants[i].user_ratings_total;\n        document.getElementById(\"details_modal\").style.display = \"block\";\n        console.log(\"hop\");\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 21\n      },\n      __self: this\n    }));\n  }));\n};\n\nclass MapDiv extends React.Component {\n  constructor() {\n    super();\n\n    this.showRestaurantDetails = index => {\n      let retsuarantName;\n      let rate;\n      let noOfRaters;\n      retsuarantName = this.props.restaurants[index].name;\n      rate = this.props.restaurants[index].rating;\n      noOfRaters = this.props.restaurants[index].user_ratings_total;\n      document.getElementById(\"restaurant_Name\").innerHTML = retsuarantName;\n      document.getElementById(\"restaurant_Rate\").innerHTML = \"Rate \" + rate;\n      document.getElementById(\"restaurant_No_Rater\").innerHTML = \"no. of raters \" + noOfRaters;\n      this.openModal(0);\n    };\n\n    this.addRestaurant = () => {\n      const restaurantName = document.getElementById(\"restaurantName\").value;\n      const reviews = document.getElementById(\"rate\").value;\n      const user_ratings_total = 1;\n      var ul = document.getElementById(\"restaurantsList\");\n      var li = document.createElement(\"li\");\n      const newRestaurant = {\n        name: restaurantName,\n        rating: reviews,\n        user_ratings_total: user_ratings_total\n      };\n      const newRestaurantListElement = restaurantName + \" \" + \"(rate = \" + reviews + \", no. of raters = 1 )\";\n      newRestaurants.push(newRestaurant);\n      li.appendChild(document.createTextNode(newRestaurantListElement));\n\n      li.onclick = () => {\n        this.newOpenModal();\n      };\n\n      document.getElementById(\"add_new_review_link\").onclick = () => {\n        newRestaurants[newRestaurants.length - 1].user_ratings_total = newRestaurants[newRestaurants.length - 1].user_ratings_total + 1;\n        let review = document.getElementById(\"new_review_map\").value;\n        li.innerHTML = newRestaurants[newRestaurants.length - 1].name + \" \" + \"(rate = \" + parseFloat(review + newRestaurants[newRestaurants.length - 1].rating) / 2 + \", no. of raters = \" + parseInt(newRestaurants[newRestaurants.length - 1].user_ratings_total) + \")\";\n        newRestaurants[newRestaurants.length - 1].rating = parseFloat(reviews + newRestaurants[newRestaurants.length - 1].rating) / 2; //  newRestaurants[newRestaurants.length-1].user_ratings_total = parseInt(newRestaurants[newRestaurants.length-1].user_ratings_total + 1);\n\n        this.newCloseModal();\n      };\n\n      ul.appendChild(li);\n      this.closeModal(1);\n    };\n\n    this.handleMapClick = (ref, map, ev) => {\n      this.openModal(1);\n      const location = ev.latLng;\n      this.setState(prevState => ({\n        locations: [...prevState.locations, location]\n      }));\n      map.panTo(location);\n    };\n\n    this.displayMarkers = () => {\n      return this.props.restaurants.map((store, index) => {\n        return React.createElement(Marker, {\n          key: index,\n          id: index,\n          position: {\n            lat: this.props.restaurants[index].geometry.location.lat,\n            lng: this.props.restaurants[index].geometry.location.lng\n          },\n          onClick: () => this.showRestaurantDetails(index),\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 145\n          },\n          __self: this\n        });\n      });\n    };\n\n    this.state = {\n      zoom: 13,\n      newRestaurantName: \"\",\n      visible: false,\n      newVisible: false,\n      restaurantDetailsVisible: false,\n      locations: []\n    };\n    this.handleMapClick = this.handleMapClick.bind(this);\n  }\n\n  openModal(flag) {\n    if (flag === 1) {\n      this.setState({\n        visible: true\n      });\n    } else {\n      this.setState({\n        restaurantDetailsVisible: true\n      });\n    }\n  }\n\n  closeModal(flag) {\n    if (flag === 1) {\n      this.setState({\n        visible: false\n      });\n    } else {\n      this.setState({\n        restaurantDetailsVisible: false\n      });\n    }\n  }\n\n  newOpenModal() {\n    this.setState({\n      newVisible: true\n    });\n  }\n\n  newCloseModal() {\n    this.setState({\n      newVisible: false\n    });\n  }\n\n  render() {\n    return React.createElement(\"div\", {\n      className: \"map-div\",\n      id: \"map-div\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 159\n      },\n      __self: this\n    }, React.createElement(Map, {\n      google: this.props.google,\n      zoom: 13,\n      style: mapStyles,\n      initialCenter: {\n        lat: this.props.Latitude,\n        lng: this.props.Longitude\n      },\n      onClick: this.handleMapClick,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 160\n      },\n      __self: this\n    }, React.createElement(MarkersList, {\n      locations: this.state.locations,\n      icon: \"https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 167\n      },\n      __self: this\n    }), React.createElement(Marker, {\n      icon: iconBase,\n      position: {\n        lat: this.props.Latitude,\n        lng: this.props.Longitude\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 168\n      },\n      __self: this\n    }), this.displayMarkers()), React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 175\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      visible: this.state.visible,\n      width: \"400\",\n      height: \"300\",\n      effect: \"fadeInUp\",\n      onClickAway: () => this.closeModal(1),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 176\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"p-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 177\n      },\n      __self: this\n    }, React.createElement(\"h3\", {\n      className: \"text-center\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 178\n      },\n      __self: this\n    }, \"Add New Restaurant\"), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 179\n      },\n      __self: this\n    }, React.createElement(\"input\", {\n      type: \"text\",\n      required: true,\n      className: \"form-control\",\n      id: \"restaurantName\",\n      placeholder: \"Enter Restaurant Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 180\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      className: \"float-left mt-3 mb-0\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 181\n      },\n      __self: this\n    }, \"Your review:\"), React.createElement(\"input\", {\n      type: \"range\",\n      required: true,\n      className: \"form-control\",\n      id: \"rate\",\n      placeholder: \"Your review from 1 to 5\",\n      max: \"5\",\n      min: \"1\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 182\n      },\n      __self: this\n    })), React.createElement(\"div\", {\n      className: \"form-group\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 184\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"float-left\",\n      onClick: () => this.closeModal(1),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 185\n      },\n      __self: this\n    }, \"Close\"), React.createElement(\"a\", {\n      className: \"float-right\",\n      onClick: () => this.addRestaurant(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 186\n      },\n      __self: this\n    }, \"Add Restaurant\"))))), React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 193\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      visible: this.state.restaurantDetailsVisible,\n      width: \"400\",\n      height: \"150\",\n      effect: \"fadeInUp\",\n      onClickAway: () => this.closeModal(0),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 194\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"float-left\",\n      onClick: () => this.closeModal(0),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 195\n      },\n      __self: this\n    }, \"Close\"), React.createElement(\"div\", {\n      className: \"p-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 196\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      id: \"restaurant_Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 197\n      },\n      __self: this\n    }), React.createElement(\"h5\", {\n      id: \"restaurant_Rate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 198\n      },\n      __self: this\n    }), React.createElement(\"h5\", {\n      id: \"restaurant_No_Rater\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 199\n      },\n      __self: this\n    })))), React.createElement(\"section\", {\n      id: \"details_modal\",\n      style: {\n        display: \"none\"\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 205\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      visible: true,\n      width: \"400\",\n      height: \"150\",\n      effect: \"fadeInUp\",\n      onClickAway: () => document.getElementById(\"details_modal\").style.display = \"none\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 206\n      },\n      __self: this\n    }, React.createElement(\"a\", {\n      className: \"float-left\",\n      onClick: () => {\n        document.getElementById(\"details_modal\").style.display = \"none\";\n      },\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 207\n      },\n      __self: this\n    }, \"Close\"), React.createElement(\"div\", {\n      className: \"p-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 208\n      },\n      __self: this\n    }, React.createElement(\"h5\", {\n      id: \"new_restaurant_Name\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 209\n      },\n      __self: this\n    }), React.createElement(\"h5\", {\n      id: \"new_restaurant_Rate\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 210\n      },\n      __self: this\n    }), React.createElement(\"h5\", {\n      id: \"new_restaurant_No_Rater\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 211\n      },\n      __self: this\n    })))), React.createElement(\"section\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 216\n      },\n      __self: this\n    }, React.createElement(Modal, {\n      visible: this.state.newVisible,\n      width: \"250\",\n      height: \"150\",\n      effect: \"fadeInUp\",\n      onClickAway: () => this.newCloseModal(),\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 217\n      },\n      __self: this\n    }, React.createElement(\"div\", {\n      className: \"p-5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 218\n      },\n      __self: this\n    }, React.createElement(\"span\", {\n      style: {\n        display: \"none\"\n      },\n      id: \"index\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 219\n      },\n      __self: this\n    }), React.createElement(\"label\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }, \"Enter your review:-\"), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 220\n      },\n      __self: this\n    }), React.createElement(\"input\", {\n      type: \"range\",\n      id: \"new_review_map\",\n      min: \"1\",\n      max: \"5\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 221\n      },\n      __self: this\n    }), React.createElement(\"br\", {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 222\n      },\n      __self: this\n    }), React.createElement(\"a\", {\n      id: \"add_new_review_link\",\n      className: \"float-right\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 223\n      },\n      __self: this\n    }, \"Submit\")))));\n  }\n\n}\n\nexport default GoogleApiWrapper({\n  apiKey: 'AIzaSyAR14v1v6okXPc5QrZwvsmMbaHktnQ0M5I'\n})(MapDiv);","map":{"version":3,"sources":["/home/yehia/Documents/openclassroom projects/restaurant/src/components/MapDiv.js"],"names":["React","Map","GoogleApiWrapper","Marker","InfoWindow","Modal","newRestaurants","google","window","mapStyles","height","iconBase","MarkersList","props","locations","markerProps","map","location","i","lat","lng","document","getElementById","innerHTML","name","rating","user_ratings_total","style","display","console","log","MapDiv","Component","constructor","showRestaurantDetails","index","retsuarantName","rate","noOfRaters","restaurants","openModal","addRestaurant","restaurantName","value","reviews","ul","li","createElement","newRestaurant","newRestaurantListElement","push","appendChild","createTextNode","onclick","newOpenModal","length","review","parseFloat","parseInt","newCloseModal","closeModal","handleMapClick","ref","ev","latLng","setState","prevState","panTo","displayMarkers","store","geometry","state","zoom","newRestaurantName","visible","newVisible","restaurantDetailsVisible","bind","flag","render","Latitude","Longitude","apiKey"],"mappings":"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","sourcesContent":["import React from 'react';\nimport { Map, GoogleApiWrapper, Marker,InfoWindow } from 'google-maps-react';\nimport Modal from 'react-awesome-modal';\n\nconst newRestaurants = []\n\nconst google = window.google;\n\nconst mapStyles = {\n  height: '500px',\n};\n\nvar iconBase = 'http://maps.google.com/mapfiles/marker_green.png';\n\nconst MarkersList = props => {\n  const { locations, ...markerProps } = props;\n  return (\n    <span>\n      {locations.map((location, i) => {\n        return (\n          <Marker\n            key={i}\n            {...markerProps}\n            position={{ lat: location.lat(), lng: location.lng() }}\n            onClick={() =>\n              {\n                document.getElementById(\"new_restaurant_Name\").innerHTML =  newRestaurants[i].name;\n                document.getElementById(\"new_restaurant_Rate\").innerHTML = \"Rate \"+ newRestaurants[i].rating;\n                document.getElementById(\"new_restaurant_No_Rater\").innerHTML = \"no. of raters \" +newRestaurants[i].user_ratings_total;\n                document.getElementById(\"details_modal\").style.display = \"block\";\n                console.log(\"hop\");\n\n\n              }\n            }\n          />\n        );\n      })}\n    </span>\n  );\n};\nclass MapDiv extends React.Component {\n  constructor() {\n      super()\n      this.state = {\n        zoom: 13,\n        newRestaurantName:\"\",\n        visible : false,\n        newVisible: false,\n        restaurantDetailsVisible:false,\n        locations: []\n      }\n      this.handleMapClick = this.handleMapClick.bind(this);\n    }\n\n    openModal(flag) {\n           if(flag === 1)\n           {\n            this.setState({\n                visible : true\n            });\n          }\n          else{\n            this.setState({\n                restaurantDetailsVisible : true\n            });\n          }\n        }\n       closeModal(flag) {\n          if(flag === 1){\n            this.setState({\n                visible : false\n            });\n          }\n          else{\n            this.setState({\n                restaurantDetailsVisible : false\n            });\n          }\n\n        }\n        newOpenModal() {\n                this.setState({\n                    newVisible : true\n                });\n            }\n\n            newCloseModal() {\n                this.setState({\n                    newVisible : false\n                });\n            }\n   showRestaurantDetails = (index) =>{\n      let retsuarantName;\n      let rate;\n      let noOfRaters;\n      retsuarantName =  this.props.restaurants[index].name;\n      rate = this.props.restaurants[index].rating;\n      noOfRaters = this.props.restaurants[index].user_ratings_total;\n      document.getElementById(\"restaurant_Name\").innerHTML =  retsuarantName;\n      document.getElementById(\"restaurant_Rate\").innerHTML = \"Rate \" +rate;\n      document.getElementById(\"restaurant_No_Rater\").innerHTML = \"no. of raters \" + noOfRaters;\n      this.openModal(0);\n  };\n   addRestaurant = () =>{\n      const restaurantName = document.getElementById(\"restaurantName\").value;\n      const reviews = document.getElementById(\"rate\").value;\n      const user_ratings_total = 1;\n      var ul = document.getElementById(\"restaurantsList\");\n      var li = document.createElement(\"li\");\n      const newRestaurant ={\n        name:restaurantName,\n        rating:reviews,\n        user_ratings_total: user_ratings_total\n      };\n      const newRestaurantListElement = restaurantName +\" \"+ \"(rate = \" + reviews+\", no. of raters = 1 )\";\n      newRestaurants.push(newRestaurant);\n      li.appendChild(document.createTextNode(newRestaurantListElement));\n      li.onclick = ()=>{\n        this.newOpenModal();\n      };\n      document.getElementById(\"add_new_review_link\").onclick = () =>{\n        newRestaurants[newRestaurants.length-1].user_ratings_total = newRestaurants[newRestaurants.length-1].user_ratings_total + 1;\n        let review = document.getElementById(\"new_review_map\").value;\n        li.innerHTML = newRestaurants[newRestaurants.length-1].name +\" \"+ \"(rate = \" +parseFloat(review + newRestaurants[newRestaurants.length-1].rating)/2 +\", no. of raters = \" +parseInt(newRestaurants[newRestaurants.length-1].user_ratings_total) +\")\";\n        newRestaurants[newRestaurants.length-1].rating = parseFloat(reviews+ newRestaurants[newRestaurants.length-1].rating)/2;\n      //  newRestaurants[newRestaurants.length-1].user_ratings_total = parseInt(newRestaurants[newRestaurants.length-1].user_ratings_total + 1);\n        this.newCloseModal();\n      };\n      ul.appendChild(li);\n      this.closeModal(1);\n   };\n\n    handleMapClick = (ref, map, ev) => {\n      this.openModal(1)\n      const location = ev.latLng;\n      this.setState(prevState => ({\n        locations: [...prevState.locations, location]\n      }));\n      map.panTo(location);\n    };\n\n    displayMarkers = () => {\n      return this.props.restaurants.map((store, index) => {\n       return <Marker key={index} id={index} position={{\n          lat: this.props.restaurants[index].geometry.location.lat,\n          lng: this.props.restaurants[index].geometry.location.lng\n    }}\n      onClick={() =>\n        this.showRestaurantDetails(index)\n      } />\n     })\n }\n\n\n\n    render() {\n      return (\n      <div className=\"map-div\" id=\"map-div\">\n        <Map\n                google={this.props.google}\n                zoom={13}\n                style={mapStyles}\n                initialCenter={{ lat: this.props.Latitude, lng: this.props.Longitude}}\n                 onClick={this.handleMapClick}\n              >\n               <MarkersList locations={this.state.locations} icon=\"https://developers.google.com/maps/documentation/javascript/examples/full/images/beachflag.png\" />\n              <Marker\n                icon= {iconBase}\n                 position={{ lat: this.props.Latitude, lng: this.props.Longitude}} />\n              {this.displayMarkers()}\n          </Map>\n            {/* new restaurant modal */}\n\n          <section>\n                <Modal visible={this.state.visible} width=\"400\" height=\"300\" effect=\"fadeInUp\" onClickAway={() => this.closeModal(1)}>\n                      <div className=\"p-5\">\n                        <h3 className=\"text-center\" >Add New Restaurant</h3>\n                        <div className=\"form-group\">\n                            <input type=\"text\" required className=\"form-control\" id=\"restaurantName\" placeholder=\"Enter Restaurant Name\" />\n                            <label className=\"float-left mt-3 mb-0\">Your review:</label>\n                            <input type=\"range\" required className=\"form-control\" id=\"rate\" placeholder=\"Your review from 1 to 5\" max=\"5\" min=\"1\" />\n                        </div>\n                        <div className=\"form-group\">\n                            <a  className=\"float-left\" onClick={() => this.closeModal(1)}>Close</a>\n                            <a  className=\"float-right\"  onClick={() => this.addRestaurant()}>Add Restaurant</a>\n                        </div>\n                      </div>\n                  </Modal>\n          </section>\n              {/* marker modal for already existed restaurants */}\n\n          <section>\n              <Modal visible={this.state.restaurantDetailsVisible} width=\"400\" height=\"150\" effect=\"fadeInUp\" onClickAway={() => this.closeModal(0)}>\n                <a className=\"float-left\" onClick={() => this.closeModal(0)}>Close</a>\n                    <div className=\"p-5\">\n                      <h5 id=\"restaurant_Name\" ></h5>\n                      <h5 id=\"restaurant_Rate\" ></h5>\n                      <h5 id=\"restaurant_No_Rater\" ></h5>\n                    </div>\n                </Modal>\n        </section>\n          {/* marker modal for created restaurants */}\n\n          <section id=\"details_modal\" style={{display: \"none\"}} >\n                <Modal  visible={true} width=\"400\" height=\"150\" effect=\"fadeInUp\" onClickAway={() =>document.getElementById(\"details_modal\").style.display = \"none\"}>\n                  <a  className=\"float-left\" onClick={() => {document.getElementById(\"details_modal\").style.display = \"none\"}}>Close</a>\n                      <div className=\"p-5\">\n                        <h5 id=\"new_restaurant_Name\" ></h5>\n                        <h5 id=\"new_restaurant_Rate\" ></h5>\n                        <h5 id=\"new_restaurant_No_Rater\" ></h5>\n                      </div>\n                  </Modal>\n          </section>\n          {/* add review  for new restaurant modal  */}\n          <section>\n                 <Modal visible={this.state.newVisible} width=\"250\" height=\"150\" effect=\"fadeInUp\" onClickAway={() => this.newCloseModal()}>\n                        <div className=\"p-5\">\n                            <span style={{display:\"none\"}} id=\"index\"></span>\n                            <label>Enter your review:-</label><br />\n                            <input type=\"range\" id=\"new_review_map\" min=\"1\" max=\"5\"/>\n                            <br />\n                            <a id=\"add_new_review_link\" className=\"float-right\">Submit</a>\n                        </div>\n                  </Modal>\n            </section>\n      </div>\n      );\n    }\n\n}\nexport default GoogleApiWrapper({\n  apiKey: 'AIzaSyAR14v1v6okXPc5QrZwvsmMbaHktnQ0M5I'\n})(MapDiv);\n"]},"metadata":{},"sourceType":"module"}